{{range .Containers}}
<div class="container-item{{if eq .ID $.Selected}} is-selected{{end}}{{if .HasLabelConfig}} is-label-configured{{end}}"
     data-id="{{.ID}}"
     hx-get="containers/{{.ID}}"
     hx-target="#container-form"
     hx-swap="innerHTML"
     onclick="document.querySelectorAll('.container-item').forEach(el => el.classList.remove('is-selected')); this.classList.add('is-selected');">
    <div class="is-flex is-justify-content-space-between is-align-items-center">
        <div>
            <strong>{{.Name}}</strong>
            {{if .HasLabelConfig}}
            <span class="icon-lock" title="Configured via labels">ðŸ”’</span>
            {{else if .HasStoredConfig}}
            <span class="icon-check" title="Dashboard configured">âœ“</span>
            {{end}}
        </div>
        <span class="tag is-small {{if eq .State "running"}}is-success{{else if eq .State "exited"}}is-warning{{else}}is-light{{end}}">
            {{.State}}
        </span>
    </div>
    <div class="is-size-7 has-text-grey mt-1" style="word-break: break-all;">
        {{.Image}}
    </div>
    {{if .Ports}}
    <div class="is-size-7 has-text-grey-light mt-1">
        {{range $cport, $hport := .Ports}}
        <span class="tag is-light is-small">{{$cport}}â†’{{$hport}}</span>
        {{end}}
    </div>
    {{end}}
</div>
{{else}}
<div class="p-4 has-text-centered has-text-grey">
    No containers found
</div>
{{end}}
